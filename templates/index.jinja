<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/codemirror.css') }}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/buttons.css') }}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.css') }}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/index.css') }}" />
        <script src="{{ url_for('static', filename='js/mousetrap.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/jquery.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/underscore.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/backbone.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/autogrow.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/spiral/command_performer.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/spiral/models.js') }}" type="text/javascript"></script>
        <script src="{{ url_for('static', filename='js/spiral/spiral.js') }}" type="text/javascript"></script>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span2" id="fact-drawer">
                    <ul id="fact-list">
                    </ul>
                </div>
                <div class="span10">
                    <div id="code-container">
                        <div id="fact-info" class="arrow_box">
                        </div>
                        <ul id="statements"></ul>
                    </div>
                    <textarea class="code-area" id="output"></textarea>
                    <div id="mode-view"></div>
                    <div id="command-bar">
                        <span class="colon">:</span> <input class="command-input" />
                    </div>
                </div>
            </div>
        </div>
    </body>

    <script type="text/html" id="fact-list-tmpl">
        <span class="fact-type <%= fact_type %>">
            <% if(fact_type == "main_block") { %>
                m
            <% } else if(fact_type == "fn") { %>
                fn
            <% } %>
        </span>
        <%= name %>
    </script>

    <script type="text/html" id="main-block-fact-info-tmpl">
        <span class="fact-type main_block">m</span>
        <%= name %>
    </script>

    <script type="text/html" id="fact-selector-list-tmpl">
        <%= name %>
    </script>

    <script type="text/html" id="fact-selector-info-tmpl">
        <%= name %>: <%= metadata.doc %>
    </script>

    <script type="text/html" id="fact-editor-tmpl">
    </script>

    <script type="text/html" id="statement-tmpl">
    </script>

    <script type="text/html" id="value-hint-tmpl">
        <%= display_text %>
    </script>

    <script type="text/html" id="statement-piece-tmpl">
        <% if(isEditable) { %>
            <input class="piece-value escapable" />
        <% } else { %>
            <%= value %>
        <% } %>
    </script>

    <script type="text/html" id="fn-fact-info-tmpl">
        <span class="fact-type fn">fn</span>
        <%= name %>
        <a class="see-more" href="#">...</a>
        <div class="more-fact-info">
            <table>
                <tr>
                    <td><label class="fact-info-label">takes:</label></td>
                    <td><input class="fact-info-input escapable" name="takes" value="<%= metadata.takes %>" /></li></td>
                </tr>
                <tr>
                    <td><label class="fact-info-label">returns:</label></td>
                    <td><input class="fact-info-input escapable" name="returns" value="<%= metadata.returns %>"/></tr></td>
                </tr>
            <table>
        </div>
    </script>

    <div id="value-hints" class="floating-box">
        <ul class="hint-possibilities">
        </ul>
    </div>

    <div id="selector" class="floating-box">
        <input class="selector-text" />
        <ul class="selector-possibilities">
        </ul>
        <div class="selector-fact-info-container"></div>
    </div>
</html>

